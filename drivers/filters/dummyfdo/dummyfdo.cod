; Listing generated by Microsoft (R) Optimizing Compiler Version 13.10.2190 

	TITLE	.\dummyfdo.c
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT DWORD USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT _Dummy_AddDevice@8
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _DriverEntry@8
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
sxdata	SEGMENT DWORD USE32 'SXDATA'
sxdata	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBC
INCLUDELIB OLDNAMES

PUBLIC	_Dummy_AddDevice@8
; Function compile flags: /Ogsy
; File d:\srv03rtm\drivers\filters\dummyfdo\dummyfdo.c
;	COMDAT _Dummy_AddDevice@8
_TEXT	SEGMENT
_DriverObject$ = 8					; size = 4
_FunctionalDeviceObject$ = 12				; size = 4
_Dummy_AddDevice@8 PROC NEAR				; COMDAT

; 33   :     return STATUS_SUCCESS;

  00000	33 c0		 xor	 eax, eax

; 34   : }

  00002	c2 08 00	 ret	 8
_Dummy_AddDevice@8 ENDP
_TEXT	ENDS
PUBLIC	_DriverEntry@8
EXTRN	__imp__IoCreateDevice@28:NEAR
; Function compile flags: /Ogsy
;	COMDAT _DriverEntry@8
_TEXT	SEGMENT
_device$ = 8						; size = 4
_DriverObject$ = 8					; size = 4
_RegistryPath$ = 12					; size = 4
_DriverEntry@8 PROC NEAR				; COMDAT

; 41   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 42   :     PDEVICE_OBJECT  device;
; 43   :     IoCreateDevice (DriverObject, 0, NULL, 0, 0, FALSE, &device);

  00004	8b 75 08	 mov	 esi, DWORD PTR _DriverObject$[ebp]
  00007	8d 45 08	 lea	 eax, DWORD PTR _device$[ebp]
  0000a	50		 push	 eax
  0000b	33 c0		 xor	 eax, eax
  0000d	50		 push	 eax
  0000e	50		 push	 eax
  0000f	50		 push	 eax
  00010	50		 push	 eax
  00011	50		 push	 eax
  00012	56		 push	 esi
  00013	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__IoCreateDevice@28

; 44   :     DriverObject->DriverExtension->AddDevice = Dummy_AddDevice;

  00019	8b 46 18	 mov	 eax, DWORD PTR [esi+24]
  0001c	c7 40 04 00 00
	00 00		 mov	 DWORD PTR [eax+4], OFFSET FLAT:_Dummy_AddDevice@8

; 45   :     return STATUS_SUCCESS;

  00023	33 c0		 xor	 eax, eax
  00025	5e		 pop	 esi

; 46   : }

  00026	5d		 pop	 ebp
  00027	c2 08 00	 ret	 8
_DriverEntry@8 ENDP
_TEXT	ENDS
END
